import React from 'react';
import { CHAINS_ENUM, CHAINS } from 'consts';
import { ExplainTxResponse } from 'background/service/openapi';
import { splitNumberByStep } from 'ui/utils/number';
import BalanceChange from './BalanceChange';

interface SendProps {
  data: ExplainTxResponse;
  chainEnum: CHAINS_ENUM;
}

const Send = ({ data, chainEnum }: SendProps) => {
  const detail = data.type_send!;
  const chain = CHAINS[chainEnum];
  return (
    <div className="send">
      <p className="section-title">Sign {chain.name} transaction</p>
      <div className="gray-section-block common-detail-block">
        <p className="title">
          Send {splitNumberByStep(detail.token_amount)} {detail.token_symbol} to
        </p>
        <p className="text-gray-content text-13 font-medium mb-0 font-roboto-mono whitespace-nowrap">
          {detail.to_addr}
        </p>
      </div>
      <BalanceChange
        data={data.balance_change}
        chainEnum={chainEnum}
        isSupport={data.support_balance_change}
      />
    </div>
  );
};

export default Send;
